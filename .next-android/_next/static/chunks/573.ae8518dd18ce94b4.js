"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{8573:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),l=a(2265);let r={wrench:"\uD83D\uDD27",zap:"⚡",paintbrush:"\uD83C\uDFA8",sparkles:"✨",hammer:"\uD83D\uDD28",leaf:"\uD83C\uDF3F",key:"\uD83D\uDD11",building:"\uD83C\uDFD7️",scissors:"✂️","paw-print":"\uD83D\uDC3E",truck:"\uD83D\uDE9A","shopping-cart":"\uD83D\uDED2",car:"\uD83D\uDE97",baby:"\uD83D\uDC76","heart-handshake":"\uD83E\uDD1D",dog:"\uD83D\uDC15","graduation-cap":"\uD83C\uDF93",music:"\uD83C\uDFB5",hand:"\uD83D\uDC86",activity:"\uD83C\uDFC3",utensils:"\uD83C\uDF7D️","chef-hat":"\uD83D\uDC68‍\uD83C\uDF73",disc:"\uD83C\uDFA7",camera:"\uD83D\uDCF7",monitor:"\uD83D\uDCBB",wifi:"\uD83D\uDCF6",flame:"\uD83D\uDD25",rabbit:"\uD83D\uDC07",droplet:"\uD83D\uDCA7",droplets:"\uD83D\uDCA7","key-round":"\uD83D\uDD11","hard-hat":"\uD83D\uDC77",trees:"\uD83C\uDF33",home:"\uD83C\uDFE0",package:"\uD83D\uDCE6"};function n(e){return e&&r[e]||"\uD83D\uDCCB"}function i(e){let{categories:t,selectedId:a,onSelect:r,placeholder:i="Buscar categor\xeda...",multiple:o=!1,selectedIds:d=[],onSelectMultiple:c}=e,[u,x]=(0,l.useState)(""),[m,g]=(0,l.useState)(!1),b=(0,l.useRef)(null),p=(0,l.useRef)(null),h=t.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())),j=t.find(e=>e.id===a);function f(e){o&&c?c(d.includes(e)?d.filter(t=>t!==e):[...d,e]):(r(e),g(!1),x(""))}return(0,l.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&g(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{ref:b,className:"relative",children:[(0,s.jsxs)("div",{onClick:()=>{g(!m),setTimeout(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},50)},className:"w-full px-3 py-2 border rounded-lg cursor-pointer flex items-center justify-between bg-white hover:border-gray-400 transition",children:[o?(0,s.jsx)("span",{className:"text-sm truncate",children:d.length>0?"".concat(d.length," categor\xeda").concat(d.length>1?"s":""," seleccionada").concat(d.length>1?"s":""):(0,s.jsx)("span",{className:"text-gray-400",children:i})}):(0,s.jsx)("span",{className:"text-sm truncate",children:j?(0,s.jsxs)("span",{children:[n(j.icon)," ",j.name]}):(0,s.jsx)("span",{className:"text-gray-400",children:i})}),(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&d.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:d.map(e=>{let a=t.find(t=>t.id===e);return a?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:(a.color||"#6b7280")+"20",color:a.color||"#6b7280"},children:[n(a.icon)," ",a.name,(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e)},className:"ml-0.5 hover:opacity-70",children:"\xd7"})]},e):null})}),m&&(0,s.jsxs)("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-lg shadow-xl max-h-64 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-2 border-b sticky top-0 bg-white",children:(0,s.jsx)("input",{ref:p,type:"text",value:u,onChange:e=>x(e.target.value),placeholder:"\uD83D\uDD0D Buscar...",className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-300",autoFocus:!0})}),(0,s.jsx)("div",{className:"overflow-y-auto max-h-48",children:0===h.length?(0,s.jsx)("div",{className:"p-3 text-center text-gray-400 text-sm",children:"No se encontraron categor\xedas"}):h.map(e=>{let t=o?d.includes(e.id):e.id===a;return(0,s.jsxs)("button",{onClick:()=>f(e.id),className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-left text-sm hover:bg-gray-50 transition ".concat(t?"bg-blue-50 font-bold":""),children:[(0,s.jsx)("span",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-base shrink-0",style:{backgroundColor:(e.color||"#6b7280")+"20"},children:n(e.icon)}),(0,s.jsx)("span",{className:"truncate",children:e.name}),t&&(0,s.jsx)("span",{className:"ml-auto text-blue-500 font-bold",children:"✓"})]},e.id)})})]})]})}function o(e){let{userLat:t,userLng:a,categories:r,onClose:n,onPublished:o}=e,[d,c]=(0,l.useState)("fixed_job"),[u,x]=(0,l.useState)("passenger"),[m,g]=(0,l.useState)(null),[b,p]=(0,l.useState)(""),[h,j]=(0,l.useState)(""),[f,D]=(0,l.useState)("medium"),[v,y]=(0,l.useState)(30),[N,C]=(0,l.useState)(""),[w,k]=(0,l.useState)(""),[S,_]=(0,l.useState)(t),[E,F]=(0,l.useState)(a),[P,A]=(0,l.useState)(null),[L,B]=(0,l.useState)(null),[I,O]=(0,l.useState)(""),[z,M]=(0,l.useState)(1),[T,q]=(0,l.useState)(""),[R,J]=(0,l.useState)(""),[U,V]=(0,l.useState)(""),[H,Q]=(0,l.useState)("medium"),[W,G]=(0,l.useState)(!1),[K,X]=(0,l.useState)(""),[Y,Z]=(0,l.useState)(1),[$,ee]=(0,l.useState)("once"),[et,ea]=(0,l.useState)([]),[es,el]=(0,l.useState)(null),[er,en]=(0,l.useState)(null),[ei,eo]=(0,l.useState)(!1),[ed,ec]=(0,l.useState)("");(0,l.useEffect)(()=>{"ride_share"===d?g(12):"express_errand"===d?g(11):g(null)},[d]),(0,l.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{_(e.coords.latitude),F(e.coords.longitude)},()=>{})},[]);let eu=async()=>{if(ec(""),!m){ec("Selecciona una categor\xeda");return}if(!b.trim()){ec("Ingresa una descripci\xf3n");return}if("ride_share"===d){if(!N.trim()||!w.trim()){ec("Ingresa origen y destino");return}if(!I){ec("Selecciona hora de salida");return}if(new Date(I)<=new Date){ec("La hora de salida debe ser en el futuro");return}}if("express_errand"===d&&!R.trim()){ec("Ingresa el nombre del negocio");return}eo(!0);try{let e;let t=localStorage.getItem("auth_token")||localStorage.getItem("token");if(!t){ec("Debes iniciar sesi\xf3n"),eo(!1);return}let a={category_id:m,description:b.trim(),lat:S,lng:E,offered_price:h?parseFloat(h):null,urgency:f,ttl_minutes:v,type:d,category_type:"ride_share"===d?"travel":"express_errand"===d?"errand":"fixed",workers_needed:Y,recurrence:$,...K?{scheduled_at:new Date(K).toISOString()}:{},..."custom"===$&&et.length>0?{recurrence_days:et}:{}};if("ride_share"===d?(a.travel_role=u,a.pickup_address=N.trim(),a.delivery_address=w.trim(),a.pickup_lat=S,a.pickup_lng=E,a.delivery_lat=P,a.delivery_lng=L,a.departure_time=new Date(I).toISOString(),a.seats=z,a.destination_name=T.trim()||w.trim(),a.payload={travel_role:u,seats:z,departure_time:new Date(I).toISOString(),destination_name:T.trim()||w.trim(),origin_address:N.trim(),destination_address:w.trim()}):"express_errand"===d&&(a.store_name=R.trim(),a.items_count=U?parseInt(U):null,a.load_type=H,a.requires_vehicle=W,a.payload={store_name:R.trim(),items_count:U?parseInt(U):null,load_type:H,requires_vehicle:W}),es){let s=new FormData;Object.entries(a).forEach(e=>{let[t,a]=e;null!=a&&("object"==typeof a&&"payload"===t?s.append(t,JSON.stringify(a)):s.append(t,String(a)))}),s.append("image",es),e={method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s}}else e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)};let s=await fetch("/api/v1/demand/publish",e),l=await s.json();s.ok&&"success"===l.status?(ec(""),setTimeout(()=>{o(),n()},300)):ec(l.message||l.errors?JSON.stringify(l.errors):"Error al publicar demanda")}catch(e){ec(e.message||"Error de conexi\xf3n")}finally{eo(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 z-[400] bg-black/50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Publicar Demanda"}),(0,s.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[ed&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:ed}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Servicio"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)("button",{onClick:()=>c("fixed_job"),className:"py-2 px-3 rounded-lg text-xs font-semibold transition ".concat("fixed_job"===d?"bg-blue-100 text-blue-700 ring-2 ring-blue-500":"bg-gray-100 text-gray-500"),children:"\uD83D\uDD27 Trabajo"}),(0,s.jsx)("button",{onClick:()=>c("ride_share"),className:"py-2 px-3 rounded-lg text-xs font-semibold transition ".concat("ride_share"===d?"bg-green-100 text-green-700 ring-2 ring-green-500":"bg-gray-100 text-gray-500"),children:"\uD83D\uDE97 Viaje"}),(0,s.jsx)("button",{onClick:()=>c("express_errand"),className:"py-2 px-3 rounded-lg text-xs font-semibold transition ".concat("express_errand"===d?"bg-orange-100 text-orange-700 ring-2 ring-orange-500":"bg-gray-100 text-gray-500"),children:"\uD83D\uDCE6 Compra"})]})]}),"fixed_job"===d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Categor\xeda"}),(0,s.jsx)(i,{categories:r,selectedId:m,onSelect:e=>g(e),placeholder:"Buscar categor\xeda..."})]}),"ride_share"===d&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"\xbfCu\xe1l es tu rol?"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>x("passenger"),className:"flex flex-col items-center gap-1.5 py-3 px-4 rounded-xl border-2 transition font-semibold text-sm ".concat("passenger"===u?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-gray-50 text-gray-500"),children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE4B"}),(0,s.jsx)("span",{children:"Soy Pasajero"}),(0,s.jsx)("span",{className:"text-[10px] font-normal opacity-70",children:"Busco quien me lleve"})]}),(0,s.jsxs)("button",{onClick:()=>x("driver"),className:"flex flex-col items-center gap-1.5 py-3 px-4 rounded-xl border-2 transition font-semibold text-sm ".concat("driver"===u?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-50 text-gray-500"),children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE97"}),(0,s.jsx)("span",{children:"Soy Chofer"}),(0,s.jsx)("span",{className:"text-[10px] font-normal opacity-70",children:"Publico mi ruta"})]})]})]}),"passenger"===u&&(0,s.jsxs)("div",{className:"space-y-3 bg-blue-50 p-3 rounded-xl border border-blue-100",children:[(0,s.jsx)("h3",{className:"font-bold text-sm text-blue-800",children:"\uD83D\uDE4B Necesito transporte"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\xbfDesde d\xf3nde sales?"}),(0,s.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Ej: Renaico, Plaza",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\xbfA d\xf3nde vas?"}),(0,s.jsx)("input",{type:"text",value:w,onChange:e=>{k(e.target.value),q(e.target.value)},placeholder:"Ej: Angol, Hospital",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\xbfCu\xe1ndo necesitas salir?"}),(0,s.jsx)("input",{type:"datetime-local",value:I,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Asientos que necesitas"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>M(Math.max(1,z-1)),className:"w-8 h-8 rounded-lg bg-blue-200 text-blue-700 font-bold text-lg",children:"−"}),(0,s.jsx)("span",{className:"w-8 text-center font-bold text-lg",children:z}),(0,s.jsx)("button",{onClick:()=>M(Math.min(8,z+1)),className:"w-8 h-8 rounded-lg bg-blue-200 text-blue-700 font-bold text-lg",children:"+"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:1===z?"asiento":"asientos"})]})]})]}),"driver"===u&&(0,s.jsxs)("div",{className:"space-y-3 bg-emerald-50 p-3 rounded-xl border border-emerald-100",children:[(0,s.jsx)("h3",{className:"font-bold text-sm text-emerald-800",children:"\uD83D\uDE97 Publico mi ruta"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Punto de salida"}),(0,s.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Ej: Renaico, frente a la plaza",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Destino final"}),(0,s.jsx)("input",{type:"text",value:w,onChange:e=>{k(e.target.value),q(e.target.value)},placeholder:"Ej: Angol, Terminal",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Hora de salida"}),(0,s.jsx)("input",{type:"datetime-local",value:I,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Asientos disponibles"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>M(Math.max(1,z-1)),className:"w-8 h-8 rounded-lg bg-emerald-200 text-emerald-700 font-bold text-lg",children:"−"}),(0,s.jsx)("span",{className:"w-8 text-center font-bold text-lg",children:z}),(0,s.jsx)("button",{onClick:()=>M(Math.min(8,z+1)),className:"w-8 h-8 rounded-lg bg-emerald-200 text-emerald-700 font-bold text-lg",children:"+"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:1===z?"asiento libre":"asientos libres"})]})]}),(0,s.jsx)("div",{className:"bg-emerald-100 rounded-lg p-2 text-xs text-emerald-700",children:"\uD83D\uDCA1 Los pasajeros que necesiten ir en tu ruta ver\xe1n tu publicaci\xf3n y podr\xe1n solicitar unirse."})]})]}),"express_errand"===d&&(0,s.jsxs)("div",{className:"space-y-3 bg-orange-50 p-3 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-bold text-sm text-orange-800",children:"Detalles de la Compra"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Nombre del Negocio"}),(0,s.jsx)("input",{type:"text",value:R,onChange:e=>J(e.target.value),placeholder:"Ej: Supermercado Angol",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Cantidad de Art\xedculos"}),(0,s.jsx)("input",{type:"number",min:"1",value:U,onChange:e=>V(e.target.value),placeholder:"Ej: 15",className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Tipo de Carga"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["light","medium","heavy"].map(e=>(0,s.jsx)("button",{onClick:()=>Q(e),className:"py-2 rounded-lg text-xs font-semibold transition ".concat(H===e?"bg-orange-100 text-orange-700 ring-2 ring-orange-500":"bg-gray-100 text-gray-500"),children:"light"===e?"Ligera":"medium"===e?"Media":"Pesada"},e))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:W,onChange:e=>G(e.target.checked),className:"w-4 h-4"}),(0,s.jsx)("label",{className:"text-xs",children:"Requiere veh\xedculo"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Descripci\xf3n"}),(0,s.jsx)("textarea",{value:b,onChange:e=>p(e.target.value),placeholder:"ride_share"===d?"Detalles adicionales del viaje...":"express_errand"===d?"Lista de productos o detalles de la compra...":"Describe lo que necesitas...",className:"w-full h-24 px-3 py-2 border rounded-lg text-sm resize-none",maxLength:500})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Foto (opcional)"}),er?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:er,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border"}),(0,s.jsx)("button",{onClick:()=>{el(null),en(null)},className:"absolute top-2 right-2 bg-red-500 text-white w-6 h-6 rounded-full text-xs font-bold hover:bg-red-600",children:"\xd7"})]}):(0,s.jsxs)("label",{className:"flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"\uD83D\uDCF7"}),(0,s.jsx)("span",{children:"Agregar foto del producto o lugar"}),(0,s.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(el(a),en(URL.createObjectURL(a)))}})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Precio Ofrecido (CLP)"}),(0,s.jsx)("input",{type:"number",value:h,onChange:e=>j(e.target.value),placeholder:"Ej: 5000",className:"w-full px-3 py-2 border rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Urgencia"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(e=>(0,s.jsx)("button",{onClick:()=>D(e),className:"py-2 rounded-lg text-xs font-semibold transition ".concat(f===e?"bg-red-100 text-red-700 ring-2 ring-red-500":"bg-gray-100 text-gray-500"),children:"low"===e?"Baja":"medium"===e?"Media":"Alta"},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Visible por (minutos)"}),(0,s.jsx)("input",{type:"number",min:"5",max:"120",value:v,onChange:e=>y(parseInt(e.target.value)||30),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,s.jsxs)("div",{className:"space-y-3 bg-purple-50 p-3 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-bold text-sm text-purple-800",children:"⚡ Opciones avanzadas"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\uD83D\uDCC5 Programar para despu\xe9s (opcional)"}),(0,s.jsx)("input",{type:"datetime-local",value:K,onChange:e=>X(e.target.value),min:new Date().toISOString().slice(0,16),className:"w-full px-3 py-2 border rounded-lg text-sm"}),K&&(0,s.jsx)("button",{onClick:()=>X(""),className:"text-xs text-red-500 mt-1 hover:underline",children:"✕ Quitar programaci\xf3n (publicar ahora)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\uD83D\uDC65 \xbfCu\xe1ntas personas necesitas?"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>Z(Math.max(1,Y-1)),className:"w-8 h-8 rounded-lg bg-gray-200 text-gray-700 font-bold text-lg hover:bg-gray-300",children:"−"}),(0,s.jsx)("span",{className:"w-10 text-center font-bold text-lg",children:Y}),(0,s.jsx)("button",{onClick:()=>Z(Math.min(20,Y+1)),className:"w-8 h-8 rounded-lg bg-purple-200 text-purple-700 font-bold text-lg hover:bg-purple-300",children:"+"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:1===Y?"persona":"personas"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium mb-1",children:"\uD83D\uDD04 \xbfSe repite?"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-1.5",children:[{value:"once",label:"Una vez"},{value:"daily",label:"Diario"},{value:"weekly",label:"Semanal"},{value:"custom",label:"Personalizado"}].map(e=>(0,s.jsx)("button",{onClick:()=>ee(e.value),className:"py-1.5 rounded-lg text-[10px] font-semibold transition ".concat($===e.value?"bg-purple-100 text-purple-700 ring-2 ring-purple-500":"bg-gray-100 text-gray-500"),children:e.label},e.value))}),"custom"===$&&(0,s.jsx)("div",{className:"flex gap-1 mt-2",children:["Lu","Ma","Mi","Ju","Vi","S\xe1","Do"].map((e,t)=>(0,s.jsx)("button",{onClick:()=>ea(e=>e.includes(t+1)?e.filter(e=>e!==t+1):[...e,t+1]),className:"w-9 h-9 rounded-full text-[10px] font-bold transition ".concat(et.includes(t+1)?"bg-purple-600 text-white":"bg-gray-100 text-gray-500"),children:e},t))})]})]}),(0,s.jsx)("button",{onClick:eu,disabled:ei||!m||!b.trim(),className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold text-sm hover:bg-gray-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:ei?"Publicando...":"Publicar Demanda"})]})]})})}}}]);