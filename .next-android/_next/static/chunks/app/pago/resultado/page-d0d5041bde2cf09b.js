(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{7068:function(e,r,t){Promise.resolve().then(t.bind(t,6093))},6093:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var s=t(7437),n=t(2265),a=t(9376),o=t(7648),l=t(1817),c=t(1671),i=t(9388);function d(){let e=(0,a.useSearchParams)(),r=(0,a.useRouter)(),t=e.get("token"),[d,m]=(0,n.useState)("loading"),[x,h]=(0,n.useState)("Verificando pago...");return(0,n.useEffect)(()=>{if(!t){m("error"),h("Token no v\xe1lido");return}fetch("/api/v1/payments/flow/confirm?token=".concat(t)).then(e=>e.json()).then(e=>{e.success?(m("success"),h("\xa1Pago completado exitosamente!"),setTimeout(()=>{r.push("/")},3e3)):(m("error"),h("El pago no pudo ser procesado"))}).catch(()=>{m("error"),h("Error al verificar el pago")})},[t,r]),(0,s.jsxs)(s.Fragment,{children:["loading"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-16 w-16 text-green-500 animate-spin mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-xl font-bold mb-2 text-gray-900",children:"Procesando pago"}),(0,s.jsx)("p",{className:"text-gray-600",children:x})]}),"success"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-xl font-bold mb-2 text-green-600",children:"\xa1Pago Exitoso!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:x}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Ser\xe1s redirigido al inicio en unos segundos..."}),(0,s.jsx)(o.default,{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 transition-colors shadow-lg",children:"Volver al inicio"})]}),"error"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-xl font-bold mb-2 text-red-600",children:"Pago no completado"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:x}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(o.default,{href:"/",className:"block px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 transition-colors",children:"Volver al inicio"})})]})]})}function m(){return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-green-100 p-8 max-w-md w-full text-center",children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(l.Z,{className:"h-16 w-16 text-green-500 animate-spin mx-auto"}),children:(0,s.jsx)(d,{})})})})}}},function(e){e.O(0,[195,971,117,744],function(){return e(e.s=7068)}),_N_E=e.O()}]);