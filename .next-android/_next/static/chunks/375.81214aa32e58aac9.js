"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{7375:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(7437),s=a(2265),l=a(1837),r=a(9596),o=a(7586);let i={pending:{label:"Esperando confirmaci\xf3n",color:"text-yellow-300",bg:"bg-yellow-500/20",icon:"⏳"},accepted:{label:"Aceptada",color:"text-blue-300",bg:"bg-blue-500/20",icon:"✅"},in_progress:{label:"En progreso",color:"text-indigo-300",bg:"bg-indigo-500/20",icon:"\uD83D\uDD27"},completed:{label:"Completada",color:"text-green-300",bg:"bg-green-500/20",icon:"\uD83C\uDF89"},cancelled:{label:"Cancelada",color:"text-gray-400",bg:"bg-gray-500/20",icon:"❌"},disputed:{label:"En disputa",color:"text-red-300",bg:"bg-red-500/20",icon:"⚠️"}};function c(e){let{expiresAt:t}=e,[a,l]=(0,s.useState)(""),[r,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{let e=new Date().getTime(),a=new Date(t).getTime()-e;if(a<=0){l("Expirado"),o(!0);return}let n=Math.floor(a/6e4);l("".concat(n,":").concat(Math.floor(a%6e4/1e3).toString().padStart(2,"0"))),o(n<2)};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[t]),(0,n.jsxs)("span",{className:"text-xs font-mono font-bold px-2 py-0.5 rounded-full ".concat(r?"bg-red-500/20 text-red-400 animate-pulse":"bg-orange-500/20 text-orange-300"),children:["⏱ ",a]})}function d(e){let{user:t,onLoginRequest:a,onClose:d,onOpenChat:u}=e,[p,x]=(0,s.useState)([]),[h,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),b=(0,s.useCallback)(async()=>{let e=localStorage.getItem("auth_token")||localStorage.getItem("token");if(e){m(!0),g(null);try{let t=await (0,l.S)("/api/v1/requests/mine",{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!t.ok)throw Error("HTTP ".concat(t.status));let a=await t.json();x(Array.isArray(a.data)?a.data:[])}catch(e){g("No se pudieron cargar tus solicitudes")}finally{m(!1)}}},[]);(0,s.useEffect)(()=>{t&&b()},[t,b]);let v=e=>{var a,n;return(null===(n=e.worker)||void 0===n?void 0:null===(a=n.user)||void 0===a?void 0:a.id)===(null==t?void 0:t.id)};return(0,n.jsxs)("div",{className:"fixed inset-0 z-[150] bg-slate-900 flex flex-col overflow-hidden",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-slate-800 to-slate-800/95 border-b border-slate-700 px-4 pt-4 pb-3 flex items-center justify-between shrink-0",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-white font-black text-xl",children:"Mis Solicitudes"}),(0,n.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:t?p.length>0?"".concat(p.length," solicitud").concat(p.length>1?"es":""):"Trabajos que publicaste o tomaste":"Inicia sesi\xf3n para ver tus solicitudes"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[t&&p.length>0&&(0,n.jsx)("button",{onClick:b,className:"w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-lg flex items-center justify-center text-slate-300 transition active:scale-95",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,n.jsx)("button",{onClick:d,className:"w-8 h-8 bg-slate-700 hover:bg-slate-600 rounded-lg flex items-center justify-center text-slate-300 transition",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[!t&&(0,n.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-center py-16",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-slate-700 rounded-2xl flex items-center justify-center mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,n.jsx)("h3",{className:"text-white font-black text-lg mb-2",children:"Tus solicitudes aqu\xed"}),(0,n.jsx)("p",{className:"text-slate-400 text-sm mb-6 max-w-xs leading-relaxed",children:"Cuando publiques o tomes un trabajo, aparecer\xe1 aqu\xed con su estado en tiempo real"}),(0,n.jsx)("button",{onClick:a,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-black text-sm transition active:scale-95 shadow-lg",children:"Ingresar para ver mis solicitudes"})]}),t&&h&&(0,n.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"bg-slate-800 rounded-2xl p-4 animate-pulse",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-700"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"h-4 bg-slate-700 rounded w-3/4 mb-2"}),(0,n.jsx)("div",{className:"h-3 bg-slate-700 rounded w-1/2 mb-2"}),(0,n.jsx)("div",{className:"h-3 bg-slate-700 rounded w-1/3"})]})]})},e))}),t&&!h&&f&&(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("p",{className:"text-red-400 text-sm mb-3",children:f}),(0,n.jsx)("button",{onClick:b,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-xl text-sm font-bold transition",children:"Reintentar"})]}),t&&!h&&!f&&(0,n.jsx)(o.M,{children:0===p.length?(0,n.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[(0,n.jsx)("div",{className:"text-5xl mb-3",children:"\uD83D\uDCCB"}),(0,n.jsx)("h3",{className:"text-white font-bold text-base mb-2",children:"A\xfan sin solicitudes"}),(0,n.jsx)("p",{className:"text-slate-400 text-sm max-w-xs mx-auto leading-relaxed",children:"Cuando publiques un trabajo o tomes una demanda del feed, aparecer\xe1 aqu\xed"})]}):(0,n.jsx)("div",{className:"space-y-3",children:p.map((e,t)=>{var a,s,o,d,p,h,m,f,g,b,j,y,w,N,k,C;let D=null!==(b=i[e.status])&&void 0!==b?b:{label:e.status,color:"text-gray-400",bg:"bg-gray-500/20",icon:"\uD83D\uDCC4"},_=v(e),E=_?e.client:null===(a=e.worker)||void 0===a?void 0:a.user,L=null!==(y=null!==(j=null===(s=e.category)||void 0===s?void 0:s.display_name)&&void 0!==j?j:e.category_type)&&void 0!==y?y:"",S=null!==(w=null===(o=e.category)||void 0===o?void 0:o.color)&&void 0!==w?w:"#6b7280",M="pending"===e.status,z=["pending","accepted","in_progress"].includes(e.status);return"cancelled"===e.status?null:(0,n.jsxs)(r.E.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.04*t},className:"rounded-2xl overflow-hidden border ".concat(z?"border-slate-600 bg-slate-800":"border-slate-700/50 bg-slate-800/60"),children:[(0,n.jsx)("div",{className:"h-1",style:{background:S}}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-xl overflow-hidden shrink-0 ring-2 ring-slate-600",children:(null==E?void 0:E.avatar)?(0,n.jsx)("img",{src:E.avatar,alt:E.name,className:"w-full h-full object-cover"}):(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-black text-lg",children:null!==(N=null==E?void 0:null===(d=E.name)||void 0===d?void 0:d.charAt(0))&&void 0!==N?N:"?"})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-white font-bold text-sm leading-tight truncate",children:null!==(k=e.description)&&void 0!==k?k:"Servicio"}),(null===(p=e.payload)||void 0===p?void 0:p.image)&&(0,n.jsx)("img",{src:e.payload.image,alt:"Foto",className:"w-full h-24 object-cover rounded-lg mt-1.5 border border-white/10"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[(null==E?void 0:E.name)&&(0,n.jsx)("span",{className:"text-slate-300 text-xs font-medium",children:E.name}),(0,n.jsx)("span",{className:"text-slate-600 text-xs",children:"•"}),(0,n.jsx)("span",{className:"text-slate-500 text-xs",children:_?"Trabajador":"Cliente"})]})]}),(0,n.jsxs)("div",{className:"text-right shrink-0",children:[(0,n.jsx)("p",{className:"text-orange-400 font-black text-base",children:"$"+Math.round(e.offered_price).toLocaleString("es-CL")}),(0,n.jsx)("p",{className:"text-slate-500 text-[10px] mt-0.5",children:function(e){let t=new Date,a=new Date(e),n=Math.floor((t.getTime()-a.getTime())/6e4);if(n<1)return"Justo ahora";if(n<60)return"hace ".concat(n," min");let s=Math.floor(n/60);if(s<24)return"hace ".concat(s,"h");let l=Math.floor(s/24);return l<7?"hace ".concat(l,"d"):a.toLocaleDateString("es-CL",{day:"numeric",month:"short"})}(e.created_at)})]})]}),(e.pickup_address||e.delivery_address||e.fuzzed_latitude&&e.fuzzed_longitude)&&(0,n.jsxs)("div",{className:"mt-2.5 space-y-1.5",children:[e.pickup_address&&e.delivery_address?(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 shrink-0"}),(0,n.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e.pickup_address)),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"text-xs truncate text-blue-400 hover:text-blue-300 underline",children:e.pickup_address})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400 shrink-0"}),(0,n.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e.delivery_address)),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"text-xs truncate text-blue-400 hover:text-blue-300 underline",children:e.delivery_address})]})]}):e.pickup_address?(0,n.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e.pickup_address)),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"flex items-center gap-1.5 text-blue-400 hover:text-blue-300 transition",children:[(0,n.jsxs)("svg",{className:"w-3.5 h-3.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,n.jsx)("span",{className:"text-xs truncate underline",children:e.pickup_address})]}):null,(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(null===(h=e.payload)||void 0===h?void 0:h.seats)&&(0,n.jsxs)("span",{className:"text-[10px] bg-blue-500/20 text-blue-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83D\uDC65 ",e.payload.seats," asiento",e.payload.seats>1?"s":""]}),(null===(m=e.payload)||void 0===m?void 0:m.store_name)&&(0,n.jsxs)("span",{className:"text-[10px] bg-orange-500/20 text-orange-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83C\uDFEA ",e.payload.store_name]}),(null===(f=e.payload)||void 0===f?void 0:f.departure_time)&&(0,n.jsxs)("span",{className:"text-[10px] bg-purple-500/20 text-purple-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83D\uDD50 ",new Date(e.payload.departure_time).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})]}),(null===(g=e.payload)||void 0===g?void 0:g.requires_vehicle)&&(0,n.jsx)("span",{className:"text-[10px] bg-yellow-500/20 text-yellow-300 px-2 py-0.5 rounded-full font-bold",children:"\uD83D\uDE97 Requiere veh\xedculo"}),e.scheduled_at&&(0,n.jsxs)("span",{className:"text-[10px] bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83D\uDCC5 ",new Date(e.scheduled_at).toLocaleDateString("es-CL",{day:"numeric",month:"short"})," ",new Date(e.scheduled_at).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})]}),e.workers_needed&&e.workers_needed>1&&(0,n.jsxs)("span",{className:"text-[10px] bg-pink-500/20 text-pink-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83D\uDC65 ",null!==(C=e.workers_accepted)&&void 0!==C?C:0,"/",e.workers_needed," personas"]}),e.recurrence&&"once"!==e.recurrence&&(0,n.jsxs)("span",{className:"text-[10px] bg-cyan-500/20 text-cyan-300 px-2 py-0.5 rounded-full font-bold",children:["\uD83D\uDD04 ","daily"===e.recurrence?"Diario":"weekly"===e.recurrence?"Semanal":"Personalizado"]})]}),e.fuzzed_latitude&&e.fuzzed_longitude&&(0,n.jsx)("a",{href:"https://www.google.com/maps/dir/?api=1&destination=".concat(e.fuzzed_latitude,",").concat(e.fuzzed_longitude),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-500/15 hover:bg-blue-500/25 text-blue-400 rounded-lg text-[10px] font-bold transition",children:"\uD83D\uDDFA️ C\xf3mo llegar"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[L&&(0,n.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-white",style:{background:S},children:L}),(0,n.jsxs)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full ".concat(D.bg," ").concat(D.color),children:[D.icon," ",D.label]}),M&&e.expires_at&&(0,n.jsx)(c,{expiresAt:e.expires_at})]}),z&&(0,n.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,n.jsx)("button",{onClick:()=>null==u?void 0:u(e.id),className:"flex-1 flex items-center justify-center gap-1.5 py-2 bg-green-500/15 hover:bg-green-500/25 text-green-400 rounded-xl text-xs font-bold transition active:scale-95",children:"\uD83D\uDCAC Chat"}),M&&(0,n.jsx)("button",{onClick:async t=>{if(t.stopPropagation(),!confirm("\xbfCancelar esta solicitud? La demanda volver\xe1 a estar disponible."))return;let a=localStorage.getItem("auth_token")||localStorage.getItem("token");if(a)try{let t=await (0,l.S)("/api/v1/requests/".concat(e.id,"/cancel"),{method:"POST",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json"}}),n=await t.json();"success"===n.status?(x(t=>t.filter(t=>t.id!==e.id)),window.dispatchEvent(new CustomEvent("remove-feed-item",{detail:{id:e.id}}))):alert(n.message||"Error al cancelar")}catch(e){alert("Error de conexi\xf3n")}},className:"flex-1 flex items-center justify-center gap-1.5 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl text-xs font-bold transition active:scale-95",children:"Cancelar"})]})]})]},e.id)})})})]})]})}},1837:function(e,t,a){a.d(t,{S:function(){return s}});let n="https://jobshour.dondemorales.cl".replace(/\/api$/,"");async function s(e,t){return fetch(n?"".concat(n).concat(e):e,t)}},7586:function(e,t,a){a.d(t,{M:function(){return v}});var n=a(7437),s=a(2265),l=a(8881),r=a(3576),o=a(1534),i=a(4252),c=a(3537),d=a(5750);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class p extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,a=(0,c.R)(e)&&e.offsetWidth||0,n=(0,c.R)(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left,s.bottom=n-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function x(e){var t,a;let{children:l,isPresent:r,anchorX:o,anchorY:i,root:c,pop:x}=e,h=(0,s.useId)(),m=(0,s.useRef)(null),f=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=(0,s.useContext)(d._),b=function(...e){return s.useCallback(function(...e){return t=>{let a=!1,n=e.map(e=>{let n=u(e,t);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let t=0;t<n.length;t++){let a=n[t];"function"==typeof a?a():u(e[t],null)}}}}(...e),e)}(m,null!==(a=null===(t=l.props)||void 0===t?void 0:t.ref)&&void 0!==a?a:null==l?void 0:l.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:n,right:s,bottom:l}=f.current;if(r||!1===x||!m.current||!e||!t)return;m.current.dataset.motionPopId=h;let d=document.createElement("style");g&&(d.nonce=g);let u=null!=c?c:document.head;return u.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(h,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===o?"left: ".concat(n):"right: ".concat(s),"px !important;\n            ").concat("bottom"===i?"bottom: ".concat(l):"top: ".concat(a),"px !important;\n          }\n        ")),()=>{u.contains(d)&&u.removeChild(d)}},[r]),(0,n.jsx)(p,{isPresent:r,childRef:m,sizeRef:f,pop:x,children:!1===x?l:s.cloneElement(l,{ref:b})})}let h=e=>{let{children:t,initial:a,isPresent:l,onExitComplete:o,custom:c,presenceAffectsLayout:d,mode:u,anchorX:p,anchorY:h,root:f}=e,g=(0,r.h)(m),b=(0,s.useId)(),v=!0,j=(0,s.useMemo)(()=>(v=!1,{id:b,initial:a,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;o&&o()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[l,g,o]);return d&&v&&(j={...j}),(0,s.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[l]),s.useEffect(()=>{l||g.size||!o||o()},[l]),t=(0,n.jsx)(x,{pop:"popLayout"===u,isPresent:l,anchorX:p,anchorY:h,root:f,children:t}),(0,n.jsx)(i.O.Provider,{value:j,children:t})};function m(){return new Map}var f=a(9637);let g=e=>e.key||"";function b(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:a,initial:i=!0,onExitComplete:c,presenceAffectsLayout:d=!0,mode:u="sync",propagate:p=!1,anchorX:x="left",anchorY:m="top",root:v}=e,[j,y]=(0,f.oO)(p),w=(0,s.useMemo)(()=>b(t),[t]),N=p&&!j?[]:w.map(g),k=(0,s.useRef)(!0),C=(0,s.useRef)(w),D=(0,r.h)(()=>new Map),_=(0,s.useRef)(new Set),[E,L]=(0,s.useState)(w),[S,M]=(0,s.useState)(w);(0,o.L)(()=>{k.current=!1,C.current=w;for(let e=0;e<S.length;e++){let t=g(S[e]);N.includes(t)?(D.delete(t),_.current.delete(t)):!0!==D.get(t)&&D.set(t,!1)}},[S,N.length,N.join("-")]);let z=[];if(w!==E){let e=[...w];for(let t=0;t<S.length;t++){let a=S[t],n=g(a);N.includes(n)||(e.splice(t,0,a),z.push(a))}return"wait"===u&&z.length&&(e=z),M(b(e)),L(w),null}let{forceRender:R}=(0,s.useContext)(l.p);return(0,n.jsx)(n.Fragment,{children:S.map(e=>{let t=g(e),s=(!p||!!j)&&(w===S||N.includes(t));return(0,n.jsx)(h,{isPresent:s,initial:(!k.current||!!i)&&void 0,custom:a,presenceAffectsLayout:d,mode:u,root:v,onExitComplete:s?void 0:()=>{if(_.current.has(t)||(_.current.add(t),!D.has(t)))return;D.set(t,!0);let e=!0;D.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),M(C.current),p&&(null==y||y()),c&&c())},anchorX:x,anchorY:m,children:e},t)})})}}}]);