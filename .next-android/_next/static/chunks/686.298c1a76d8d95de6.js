"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{6686:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),n=a(2265),r=a(1837),i=a(9596);let l={fixed:{gradient:"from-amber-500 to-orange-600",bg:"bg-amber-500",icon:"\uD83D\uDD27",label:"Trabajo fijo"},travel:{gradient:"from-blue-500 to-indigo-600",bg:"bg-blue-500",icon:"\uD83D\uDE97",label:"Viaje compartido"},errand:{gradient:"from-violet-500 to-purple-600",bg:"bg-violet-500",icon:"\uD83D\uDECD️",label:"Mandado express"}};function o(e){if(!e)return"";if(e.startsWith("hace")||e.startsWith("Hace"))return e;let t=Date.now()-new Date(e).getTime();if(isNaN(t))return e;let a=Math.floor(t/6e4);if(a<1)return"Ahora mismo";if(a<60)return"hace ".concat(a,"min");let s=Math.floor(a/60);return s<24?"hace ".concat(s,"h"):"hace ".concat(Math.floor(s/24),"d")}function c(e){let{request:t}=e;if(!t.payload||Array.isArray(t.payload))return null;let a=[];if("ride_share"===t.type&&(t.payload.seats&&a.push("\uD83D\uDC65 ".concat(t.payload.seats," asientos")),t.payload.destination_name&&a.push("\uD83D\uDCCD → ".concat(t.payload.destination_name)),t.payload.vehicle_type&&a.push("\uD83D\uDE98 ".concat(t.payload.vehicle_type))),"express_errand"===t.type&&(t.payload.store_name&&a.push("\uD83C\uDFEA ".concat(t.payload.store_name)),t.payload.items_count&&a.push("\uD83D\uDCE6 ".concat(t.payload.items_count," items")),t.payload.requires_vehicle&&a.push("\uD83D\uDE90 Requiere veh\xedculo")),"fixed_job"===t.type&&(t.payload.category&&a.push("\uD83D\uDD27 ".concat(t.payload.category)),t.payload.estimated_hours&&a.push("⏱️ ".concat(t.payload.estimated_hours,"h est.")),t.payload.tools_provided&&a.push("\uD83E\uDDF0 Herramientas incluidas")),t.scheduled_at){let e=new Date(t.scheduled_at);a.push("\uD83D\uDCC5 ".concat(e.toLocaleDateString("es-CL",{day:"numeric",month:"short"})," ").concat(e.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})))}if(t.workers_needed&&t.workers_needed>1){var n;let e=null!==(n=t.workers_accepted)&&void 0!==n?n:0;a.push("\uD83D\uDC65 ".concat(e,"/").concat(t.workers_needed," personas"))}return(t.recurrence&&"once"!==t.recurrence&&a.push({daily:"\uD83D\uDD04 Diario",weekly:"\uD83D\uDD04 Semanal",custom:"\uD83D\uDD04 Personalizado"}[t.recurrence]||"\uD83D\uDD04 Recurrente"),a.length)?(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:a.map((e,t)=>(0,s.jsx)("span",{className:"text-xs bg-white/15 px-2 py-0.5 rounded-full",children:e},t))}):null}function d(e){var t,a;let{request:n,onRequestService:r,onOpenChat:i,onGoToLocation:l}=e,o="completed"===n.status||"taken"===n.status;return(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[o?(0,s.jsx)("div",{className:"w-full text-center py-2.5 bg-white/10 rounded-xl text-sm text-white/60 font-semibold",children:"✅ Ya tomada"}):(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),null==r||r(n)},className:"w-full py-3 bg-white text-slate-900 rounded-xl text-sm font-black hover:bg-white/90 active:scale-95 transition flex items-center justify-center gap-2 shadow-lg",children:[(0,s.jsx)("span",{children:"⚡"}),(0,s.jsxs)("span",{children:["Tomar esta solicitud \xb7 $",n.offered_price.toLocaleString("es-CL")]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-1.5",children:[l&&(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),l(n)},className:"flex items-center justify-center gap-1 py-2.5 bg-white/10 hover:bg-white/20 text-white rounded-xl text-[10px] font-bold transition active:scale-95",children:[(0,s.jsxs)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Mapa"]}),(null===(t=n.pos)||void 0===t?void 0:t.lat)&&(null===(a=n.pos)||void 0===a?void 0:a.lng)&&(0,s.jsx)("a",{href:"https://www.google.com/maps/dir/?api=1&destination=".concat(n.pos.lat,",").concat(n.pos.lng),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"flex items-center justify-center gap-1 py-2.5 bg-white/20 hover:bg-white/30 text-white rounded-xl text-[10px] font-bold transition active:scale-95",children:"�️ Llegar"}),i&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i(n)},className:"flex items-center justify-center gap-1 py-2.5 bg-white/10 hover:bg-white/20 text-white rounded-xl text-[10px] font-bold transition active:scale-95",children:"\uD83D\uDCAC Chat"}),(0,s.jsx)("a",{href:"https://wa.me/?text=".concat(encodeURIComponent("\uD83D\uDD25 \xa1Mira esta solicitud en JobsHours!\n".concat(n.description||"Servicio disponible","\n\uD83D\uDCB0 $").concat(n.offered_price.toLocaleString("es-CL"),"\n\uD83D\uDCCD ").concat(n.pickup_address||"Ver en mapa","\n\uD83D\uDC49 ").concat(window.location.origin))),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"flex items-center justify-center gap-1 py-2.5 bg-green-500/20 hover:bg-green-500/30 text-green-300 rounded-xl text-[10px] font-bold transition active:scale-95",children:"\uD83D\uDCF2 Compartir"})]})]})}function u(e){var t,a,n,r,u,x;let{request:m,index:h,onClick:p,isHighlighted:g,currentUserId:v,onRequestService:f,onOpenChat:b,onGoToLocation:j}=e,D=!!(v&&(null===(t=m.client)||void 0===t?void 0:t.id)&&m.client.id===v),w=l[m.category_type]||l.fixed;return"historical"===m.template?(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:.55},transition:{delay:.01*h},className:"bg-slate-900/50 rounded-xl p-3 border border-slate-800 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-slate-500",children:w.icon}),(0,s.jsxs)("span",{className:"text-sm text-slate-400",children:["Alguien gan\xf3 ",(0,s.jsxs)("span",{className:"font-bold text-emerald-500",children:["$",m.offered_price.toLocaleString("es-CL")]})]})]}),(0,s.jsx)("span",{className:"text-xs text-slate-600",children:m.completed_at?o(m.completed_at):""})]}):(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Math.min(.04*h,.3)},className:"relative rounded-2xl bg-gradient-to-br ".concat(w.gradient," overflow-hidden shadow-xl ").concat(g?"ring-4 ring-white/60":""),children:[("high"===m.urgency||"urgent"===m.urgency)&&(0,s.jsx)("div",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-black px-3 py-1 rounded-bl-xl tracking-wide",children:"\uD83D\uDD25 URGENTE"}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[m.client.avatar?(0,s.jsx)("img",{src:m.client.avatar,alt:m.client.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40 shrink-0"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white font-black text-base shrink-0 border-2 border-white/30",children:(null===(n=m.client.name)||void 0===n?void 0:null===(a=n.charAt(0))||void 0===a?void 0:a.toUpperCase())||"?"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("p",{className:"text-white font-bold text-sm truncate",children:m.client.name}),D&&(0,s.jsx)("span",{className:"shrink-0 text-[9px] font-black bg-white/20 text-white px-1.5 py-0.5 rounded-full",children:"(yo)"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full",style:{background:(null===(r=m.category)||void 0===r?void 0:r.color)||"#f59e0b",color:"white"},children:(null===(u=m.category)||void 0===u?void 0:u.name)||w.label}),(0,s.jsx)("span",{className:"text-white/50 text-xs",children:o(m.created_at)})]})]}),(0,s.jsxs)("div",{className:"text-right shrink-0",children:[(0,s.jsxs)("p",{className:"text-white font-black text-xl",children:["$",m.offered_price.toLocaleString("es-CL")]}),(0,s.jsx)("p",{className:"text-white/70 text-xs",children:"oferta"})]})]}),m.description&&(0,s.jsx)("p",{className:"text-white/90 text-sm leading-snug mb-2 line-clamp-2",children:m.description}),(null===(x=m.payload)||void 0===x?void 0:x.image)&&(0,s.jsx)("div",{className:"mt-2 mb-2 rounded-xl overflow-hidden",children:(0,s.jsx)("img",{src:m.payload.image,alt:"Foto adjunta",className:"w-full h-32 object-cover rounded-xl border border-white/10"})}),(0,s.jsx)(c,{request:m}),(0,s.jsxs)("div",{className:"mt-3 bg-black/20 rounded-xl p-2.5 text-xs text-white/80 space-y-1.5",children:[m.pickup_address&&m.delivery_address?(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 shrink-0"}),(0,s.jsx)("span",{className:"font-medium truncate",children:m.pickup_address})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400 shrink-0"}),(0,s.jsx)("span",{className:"font-medium truncate",children:m.delivery_address})]})]}):m.pickup_address?(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsxs)("svg",{className:"w-3.5 h-3.5 shrink-0 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,s.jsx)("span",{className:"font-medium truncate",children:m.pickup_address})]}):null,m.distance_km>.01&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"font-bold",children:[m.distance_km.toFixed(1)," km"]}),(0,s.jsx)("span",{className:"text-white/40",children:"\xb7"}),(0,s.jsxs)("span",{children:["\uD83D\uDEB6 ~",Math.round(12*m.distance_km)," min"]}),(0,s.jsx)("span",{className:"text-white/40",children:"\xb7"}),(0,s.jsxs)("span",{children:["\uD83D\uDE97 ~",Math.max(1,Math.round(2*m.distance_km))," min"]})]}),!m.pickup_address&&!m.delivery_address&&m.distance_km<=.01&&(0,s.jsx)("span",{className:"text-white/50",children:"\uD83D\uDCCD Ubicaci\xf3n disponible en el mapa"})]}),(0,s.jsx)(d,{request:m,onRequestService:f,onOpenChat:b,onGoToLocation:j})]})]})}function x(e){let{lat:t,lng:a,radius:r=50}=e,[l,o]=(0,n.useState)({active_workers:0,active_demands:0,message:"Cargando..."}),[c,d]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=async()=>{let e="/api/v1/dashboard/live-stats?lat=".concat(t,"&lng=").concat(a,"&radius=").concat(r);console.log("\uD83D\uDCCA LiveStats: Iniciando fetch a:",e);try{let t=await fetch(e);if(console.log("\uD83D\uDCCA LiveStats: Respuesta recibida. Status:",t.status,"OK:",t.ok),!t.ok){let e=await t.text().catch(()=>"No se pudo leer el error");throw console.error("❌ LiveStats: Error HTTP",t.status,":",e.substring(0,200)),Error("HTTP ".concat(t.status,": ").concat(t.statusText,". Respuesta: ").concat(e.substring(0,100)))}let a=await t.json();console.log("\uD83D\uDCCA LiveStats: Datos recibidos:",JSON.stringify(a,null,2)),"success"===a.status&&a.data?(console.log("✅ LiveStats: Datos v\xe1lidos. Workers:",a.data.active_workers,"Demands:",a.data.active_demands),o({active_workers:a.data.active_workers||0,active_demands:a.data.active_demands||0,message:a.data.message||"Pueblo activo"})):(console.warn("⚠️ LiveStats: Respuesta inv\xe1lida. Status:",a.status,"Data:",a.data),o({active_workers:0,active_demands:0,message:"Sin datos disponibles"})),d(!1)}catch(t){let e=t instanceof Error?t.message:String(t);console.error("❌ LiveStats: Error completo:",e),console.error("❌ LiveStats: Stack:",t instanceof Error?t.stack:"N/A"),o({active_workers:0,active_demands:0,message:"Error al cargar datos: ".concat(e.substring(0,50))}),d(!1)}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[t,a,r]),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-4 text-white shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(i.E.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"text-3xl shrink-0",children:"\uD83C\uDF0D"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs opacity-90 font-bold uppercase tracking-wider mb-1",children:"PUEBLO VIVO"}),(0,s.jsx)("p",{className:"font-black text-lg leading-tight mb-3",children:c?"Cargando...":l.message}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs",children:"\uD83D\uDC65"}),(0,s.jsxs)("span",{className:"text-xs font-bold",children:[l.active_workers," socios"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs",children:"\uD83D\uDCB0"}),(0,s.jsxs)("span",{className:"text-xs font-bold",children:[l.active_demands," demandas"]})]})]})]})]})})}function m(e){let{userLat:t,userLng:a,currentUserId:l,onCardClick:o,highlightedRequestId:c,onRequestService:d,onOpenChat:m,onGoToLocation:h}=e,[p,g]=(0,n.useState)([]),[v,f]=(0,n.useState)(0),[b,j]=(0,n.useState)(!1),[D,w]=(0,n.useState)(!0),[y,N]=(0,n.useState)(0),k=(0,n.useRef)(null),_=(0,n.useRef)(null),C=(0,n.useRef)(!1),L=(0,n.useRef)(!0),E=(0,n.useRef)(0),S=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(C.current&&!e){console.log("⏭️ loadMore: ya hay una carga en progreso, saltando...");return}if(!L.current&&!e){console.log("⏭️ loadMore: no hay m\xe1s datos y no es reset, saltando...");return}console.log("\uD83D\uDD04 loadMore: iniciando (reset=".concat(e,")")),C.current=!0,j(!0);try{let v=e?0:E.current,b="/api/v1/dashboard/feed?lat=".concat(t,"&lng=").concat(a,"&cursor=").concat(v,"&_t=").concat(Date.now()),j=await (0,r.S)(b);if(!j.ok)throw Error("HTTP ".concat(j.status,": ").concat(j.statusText));let D=await j.json();if("success"===D.status&&D.data&&Array.isArray(D.data)){var s,n,i,l,o,c,d,u,x,m,h,p;e?(g(D.data),E.current=null!==(o=null===(i=D.meta)||void 0===i?void 0:i.next_cursor)&&void 0!==o?o:0,f(null!==(c=null===(l=D.meta)||void 0===l?void 0:l.next_cursor)&&void 0!==c?c:0)):(g(e=>[...e,...D.data]),E.current=null!==(x=null===(d=D.meta)||void 0===d?void 0:d.next_cursor)&&void 0!==x?x:E.current,f(null!==(m=null===(u=D.meta)||void 0===u?void 0:u.next_cursor)&&void 0!==m?m:E.current)),L.current=null!==(h=null===(s=D.meta)||void 0===s?void 0:s.has_more)&&void 0!==h&&h,w(null!==(p=null===(n=D.meta)||void 0===n?void 0:n.has_more)&&void 0!==p&&p);let t=D.data.reduce((e,t)=>e+(t.offered_price||0),0);N(a=>e?t:a+t)}else throw console.error("❌ Respuesta inv\xe1lida del feed:",D),Error("Respuesta inv\xe1lida del servidor")}catch(e){console.error("❌ Error loading feed:",e),C.current=!1,j(!1),w(!1)}finally{console.log("✅ loadMore: finalizado, quitando loading"),C.current=!1,j(!1)}},[t,a]);(0,n.useEffect)(()=>{g([]),E.current=0,f(0),L.current=!0,w(!0),C.current=!1,j(!1);let e=setTimeout(()=>{S(!0)},100);return()=>clearTimeout(e)},[t,a]),(0,n.useEffect)(()=>{let e=()=>S(!0),t=e=>{var t;let a=null===(t=e.detail)||void 0===t?void 0:t.id;a&&g(e=>e.filter(e=>e.id!==a))};return window.addEventListener("reload-feed",e),window.addEventListener("remove-feed-item",t),()=>{window.removeEventListener("reload-feed",e),window.removeEventListener("remove-feed-item",t)}},[]),(0,n.useEffect)(()=>(k.current&&k.current.disconnect(),k.current=new IntersectionObserver(e=>{e[0].isIntersecting&&L.current&&!C.current&&S(!1)},{threshold:.5}),_.current&&k.current.observe(_.current),()=>{k.current&&k.current.disconnect()}),[S]),(0,n.useEffect)(()=>{if(c){let e=document.getElementById("request-".concat(c));e&&e.scrollIntoView({behavior:"smooth",block:"center"})}},[c]);let M=Math.min(y/5e4*100,100);return(0,s.jsxs)("div",{className:"h-full overflow-y-auto bg-slate-900 p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDCB0"}),(0,s.jsx)("h2",{className:"text-lg font-black text-white leading-tight",children:"Oportunidades cerca"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-400 mt-0.5 leading-snug",children:"Solicitudes reales de personas que necesitan ayuda ahora — t\xf3cala para aceptarla"})]}),(0,s.jsx)("button",{onClick:()=>S(!0),disabled:b,className:"shrink-0 mt-0.5 p-2 bg-slate-700 hover:bg-slate-600 rounded-xl text-slate-300 disabled:opacity-40 transition active:scale-95",title:"Actualizar",children:(0,s.jsx)("svg",{className:"w-4 h-4 ".concat(b?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,s.jsx)(x,{lat:t,lng:a}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-slate-800 rounded-xl p-3 border border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,s.jsx)("span",{className:"text-xs text-slate-400 font-semibold",children:"Meta del d\xeda (potencial en CLP)"}),(0,s.jsxs)("span",{className:"text-xs font-bold text-emerald-400",children:["$",y.toLocaleString()," / $",5e4.toLocaleString()]})]}),(0,s.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,s.jsx)(i.E.div,{className:"h-full bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full",initial:{width:0},animate:{width:"".concat(M,"%")},transition:{duration:.6,ease:"easeOut"}})}),M>=100&&(0,s.jsx)("p",{className:"text-xs text-emerald-400 font-bold mt-1 text-center",children:"\uD83C\uDF89 \xa1Meta alcanzada!"})]}),(0,s.jsx)("div",{className:"space-y-3",children:p.map((e,t)=>(0,s.jsx)("div",{id:"request-".concat(e.id),children:(0,s.jsx)(u,{request:e,index:t,onClick:()=>o(e),isHighlighted:c===e.id,currentUserId:l,onRequestService:d,onOpenChat:m,onGoToLocation:h})},e.id))}),b&&0===p.length&&(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:6}).map((e,t)=>(0,s.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-700 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-3 bg-slate-700 rounded w-1/2"})]},t))}),!b&&0===p.length&&(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-5xl mb-3",children:"\uD83D\uDCCD"}),(0,s.jsx)("p",{className:"text-white font-bold text-base mb-1",children:"No hay solicitudes cerca"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Las oportunidades aparecen cuando alguien pide ayuda cerca de ti"}),(0,s.jsx)("button",{onClick:()=>S(!0),className:"px-5 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-xl text-sm font-bold transition active:scale-95",children:"Buscar de nuevo"})]}),(0,s.jsxs)("div",{ref:_,className:"h-16 flex items-center justify-center",children:[D&&b&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-slate-600 border-t-orange-400 rounded-full animate-spin"}),"Cargando m\xe1s..."]}),!D&&p.length>0&&(0,s.jsx)("span",{className:"text-xs text-slate-600",children:"• Viste todas las oportunidades del momento •"})]})]})}},1837:function(e,t,a){a.d(t,{S:function(){return n}});let s="https://jobshour.dondemorales.cl".replace(/\/api$/,"");async function n(e,t){return fetch(s?"".concat(s).concat(e):e,t)}}}]);